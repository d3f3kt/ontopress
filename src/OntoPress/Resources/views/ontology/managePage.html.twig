{% extends 'base.html.twig' %}

{% block headline %}
    Ontologie Verwaltung
    <a href="{{path('ontopress_ontologyAdd')}}" class="page-title-action">Neu hinzuf√ºgen</a>
{% endblock %}
{% block content %}
    <div class="tablenav top">
        <br class="clear">
    </div>
    <table class="wp-list-table widefat fixed striped users">
        <thead>
        <tr>
            {% embed 'snippets/sortableColumn.html.twig'
                with {'colName': 'id', 'colTitle': 'ID', 'colPath': 'ontopress_ontology'} %}
                {% block colAttr %}
                    {{ parent() }} style="width: 90px"
                {% endblock %}
            {% endembed %}

            {% embed 'snippets/sortableColumn.html.twig'
                with {'colName': 'name', 'colTitle': 'Ontologie', 'colPath': 'ontopress_ontology'} %}
            {% endembed %}
            <th scope="col" id="form" class="manage-column column-form">
                    <span>Formular Anz.</span>
                </a>
            </th>
            {% embed 'snippets/sortableColumn.html.twig'
                with {'colName': 'author', 'colTitle': 'Autor', 'colPath': 'ontopress_ontology'} %}
            {% endembed %}
            {% embed 'snippets/sortableColumn.html.twig'
                with {'colName': 'date', 'colTitle': 'Datum', 'colPath': 'ontopress_ontology'} %}
            {% endembed %}
        </tr>
        </thead>
        <tbody id="the-list" data-wp-lists="list:ontology">
        {% for ontology in ontologyManageTable %}
            <tr>
                <td class="id column-id has-row-actions column-primary" data-colname="ID">
                   <strong>{{ontology.id}}</strong> <br>
                </td>
                <td class="ontology column-ontology" data-colname="Ontology">
                    <p>{{ontology.name}}</p>
                    {% include 'snippets/table/deleteRowAction.html.twig' with {'path': path('ontopress_ontologyDelete', {'id': ontology.id})} %}
                </td>
                <td class="form column-form" data-colname="Form">
                    <a href="{{ path('ontopress_forms', {'id': ontology.id}) }}">
                        {{ ontology.ontologyForms.count }}
                    </a>
                </td>
                <td class="author column-author" data-colname="Author">
                    {{ontology.author}}
                </td>
                <td class="date column-date" data-colname="Date">
                    {{ date(ontology.date).format('d.m.Y') }}
                </td>
            </tr>
        {% endfor %}
        </tbody>
        <tfoot>
        <tr>
            {% embed 'snippets/sortableColumn.html.twig'
                with {'colName': 'id', 'colTitle': 'ID', 'colPath': 'ontopress_ontology'} %}
                {% block colAttr %}
                    {{ parent() }} style="with: 90px"
                {% endblock %}
            {% endembed %}

            {% embed 'snippets/sortableColumn.html.twig'
                with {'colName': 'name', 'colTitle': 'Ontologie', 'colPath': 'ontopress_ontology'} %}
            {% endembed %}
            <th scope="col" id="form" class="manage-column column-form">
                    <span>Formular Anz.</span>
                </a>
            </th>
            {% embed 'snippets/sortableColumn.html.twig'
                with {'colName': 'author', 'colTitle': 'Autor', 'colPath': 'ontopress_ontology'} %}
            {% endembed %}
            {% embed 'snippets/sortableColumn.html.twig'
                with {'colName': 'date', 'colTitle': 'Datum', 'colPath': 'ontopress_ontology'} %}
            {% endembed %}
        </tr>
        </tfoot>
    </table>
{% endblock %}
